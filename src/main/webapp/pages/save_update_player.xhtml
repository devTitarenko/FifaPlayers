<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:form id="saveUpdateForm">
        <p:panelGrid id="createUserGrid" class="window" styleClass="noBorder">

            <p:row>
                <p:column style="width: 20%">
                    <h:outputLabel for="firstName" value="#{msgs['player.firstName']}"/>
                </p:column>

                <p:column style="width: 30%">
                    <p:inputText id="firstName" required="true" value="#{playerService.player.firstName}"
                                 requiredMessage="#{msgs['Error.MandatoryFields']}">
                        <f:validator validatorId="playerNameValidator"/>
                        <p:ajax update="firstNameMsg" event="keyup"/>
                        <p:ajax update="firstNameMsg" event="change"/>
                    </p:inputText>
                </p:column>

                <p:column style="width:50%;">
                    <p:message for="firstName" id="firstNameMsg" display="text"/>
                </p:column>
            </p:row><!--First Name-->

            <p:row>
                <p:column>
                    <h:outputLabel for="lastName" value="#{msgs['player.lastName']}"/>
                </p:column>

                <p:column>
                    <p:inputText id="lastName" required="true" value="#{playerService.player.lastName}"
                                 requiredMessage="#{msgs['Error.MandatoryFields']}">
                        <f:validator validatorId="playerNameValidator"/>
                        <p:ajax update="lastNameMsg" event="keyup"/>
                    </p:inputText>
                </p:column>

                <p:column>
                    <p:message for="lastName" id="lastNameMsg" display="text"/>
                </p:column>
            </p:row><!--Last Name-->

            <p:row>
                <p:column>
                    <h:outputLabel for="birthDate" value="#{msgs['player.bithday']}"/>
                </p:column>

                <p:column>
                    <p:calendar id="birthDate" required="true" value="#{playerService.player.birthDate}"
                                pattern="dd-MM-yyyy" mask="true" requiredMessage="#{msgs['Error.MandatoryFields']}">
                        <p:ajax update="dateMsg" event="keyup"/>
                    </p:calendar>
                </p:column>

                <p:column>
                    <p:message for="costs" id="dateMsg" display="text"/>
                </p:column>
            </p:row><!--BirthDate-->

            <p:row>
                <p:column>
                    <h:outputLabel for="nation" value="#{msgs['player.nation']}"/>
                </p:column>

                <p:column>
                    <p:selectOneMenu id="nation" required="true" effectSpeed="fast"
                                     value="#{playerService.player.country}" converter="#{countryConverter}"
                                     requiredMessage="#{msgs['Error.MandatoryFields']}" style="width: 210px;">
                        <f:selectItems value="#{countryService.countryList}" var="country"
                                       itemLabel="#{country.countryName}" itemValue="#{country}"/>
                        <p:ajax update="nationMsg" event="change"/>
                    </p:selectOneMenu>
                </p:column>

                <p:column>
                    <p:message for="nation" id="nationMsg" display="text"/>
                </p:column>
            </p:row><!--Country Name-->

            <p:row>
                <p:column>
                    <h:outputLabel for="stats" value="#{msgs['player.stats']}"/>
                </p:column>

                <p:column>
                    <p:inputMask id="stats" required="true" value="#{playerService.player.stats}" mask="9999"
                                 requiredMessage="#{msgs['Error.MandatoryFields']}">
                        <p:ajax update="statsMsg" event="keyup"/>
                    </p:inputMask>
                </p:column>

                <p:column>
                    <p:message for="costs" id="statsMsg" display="text"/>
                </p:column>
            </p:row><!--Stats-->

            <p:row>
                <p:column>
                    <h:outputLabel for="club" value="#{msgs['player.club']}"/>
                </p:column>

                <p:column>
                    <p:selectOneMenu id="club" required="true" effectSpeed="fast"
                                     value="#{playerService.player.club}" converter="#{clubConverter}"
                                     requiredMessage="#{msgs['Error.MandatoryFields']}" style="width: 210px;">
                        <f:selectItems value="#{clubService.clubList}" var="club"
                                       itemLabel="#{club.clubName}" itemValue="#{club}"/>
                        <p:ajax update="clubMsg" event="change"/>
                    </p:selectOneMenu>
                </p:column>

                <p:column>
                    <p:message for="club" id="clubMsg" display="text"/>
                </p:column>
            </p:row><!--Club Name-->

            <p:row>
                <p:column>
                    <h:outputLabel for="position" value="#{msgs['player.position']}"/>
                </p:column>

                <p:column>
                    <p:selectOneMenu id="position" required="true" effectSpeed="fast"
                                     value="#{playerService.player.position}"
                                     requiredMessage="#{msgs['Error.MandatoryFields']}" style="width: 210px;">
                        <f:selectItems value="#{playerService.player.position.allPositions}"/>
                        <p:ajax update="positionMsg" event="change"/>
                    </p:selectOneMenu>
                </p:column>

                <p:column>
                    <p:message for="position" id="positionMsg" display="text"/>
                </p:column>
            </p:row><!--Position Name-->

            <p:row>
                <p:column>
                    <h:outputLabel for="skill" value="#{msgs['player.skill']}"/>
                </p:column>

                <p:column>
                    <p:selectOneMenu id="skill" required="true" effectSpeed="fast"
                                     value="#{playerService.player.skill}"
                                     requiredMessage="#{msgs['Error.MandatoryFields']}" style="width: 210px;">
                        <f:selectItems value="#{playerService.player.skill.allSkills}"/>
                        <p:ajax update="skillMsg" event="change"/>
                    </p:selectOneMenu>
                </p:column>

                <p:column>
                    <p:message for="skill" id="skillMsg" display="text"/>
                </p:column>
            </p:row><!--Skill Name-->

            <p:row>
                <p:column>
                    <h:outputLabel for="costs" value="#{msgs['player.costs']}"/>
                </p:column>

                <p:column>
                    <p:inputText id="costs" required="true" value="#{playerService.player.costs}"
                                 requiredMessage="#{msgs['Error.MandatoryFields']}">
                        <f:validator validatorId="costsValidator"/>
                        <p:ajax update="costsMsg" event="keyup"/>
                    </p:inputText>
                </p:column>

                <p:column>
                    <p:message for="costs" id="costsMsg" display="text"/>
                </p:column>
            </p:row><!--Costs-->

            <p:row>
                <p:column colspan="3">
                    <div class="cmdButton">
                        <p:commandButton rendered="#{empty playerService.player.playerId}"
                                         update=":playersForm, saveUpdateForm"
                                         oncomplete="if (!args.validationFailed) PF('createEditDlg').hide();"
                                         actionListener="#{playerService.savePlayer}"
                                         id="userCreateButton"
                                         value="#{msgs['DialogButton.Create']}"
                                         icon="ui-icon-check"/>

                        <p:commandButton rendered="#{!empty playerService.player.playerId}"
                                         update=":playersForm, saveUpdateForm"
                                         oncomplete="if (!args.validationFailed) PF('createEditDlg').hide();"
                                         actionListener="#{playerService.savePlayer}"
                                         id="userSaveButton"
                                         value="#{msgs['DialogButton.Save']}"
                                         icon="ui-icon-check">
                        </p:commandButton>

                        <p:spacer width="20"/>
                        <p:commandButton value="#{msgs['DialogButton.Cancel']}"
                                         process="@this"
                                         oncomplete="PF('createEditDlg').hide();">
                            <p:resetInput target="saveUpdateForm"/>
                        </p:commandButton>
                    </div>
                </p:column>
            </p:row><!--Save and Cancel-->
        </p:panelGrid>
    </h:form>
</ui:composition>